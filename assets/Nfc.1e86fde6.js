import{Q as c}from"./QBtn.6a300059.js";import{u,Q as m}from"./use-quasar.bd071866.js";import{_ as p,d as g,A as x,B as w,C as v,f as d,M as y,R as $,P as C}from"./index.e8c2ef67.js";import"./render.3e5ae0ee.js";const N=g({name:"IndexPage",setup(){u().dark.set(!0);let e=!1,a="";async function l(){(await navigator.permissions.query({name:"nfc"})).state==="granted"&&(e=!0)}const s=new AbortController;s.signal.onabort=i=>{};let o=function(){},t=function(){},f=function(){};if("NDEFReader"in window){const i=new NDEFReader;t=function(){s.abort()},f=async function(){const r={recordType:"url",data:"https://dexif.com/"};await i.write({records:[r]},{signal:s.signal})},o=async function(){await i.scan({signal:s.signal}),i.onreading=r=>{a+=JSON.stringify(r)}}}return{allow:e,scan:o,abort:t,writeDexif:f,requestPermissions:l,loglist:a}},mounted(){this.requestPermissions()}});function P(n,e,a,l,s,o){return x(),w(m,{class:"flex flex-center"},{default:v(()=>[d(c,{size:"xl",icon:"mdi-nfc-variant",text:"Scan",onClick:e[0]||(e[0]=t=>n.scan())}),d(c,{size:"xl",icon:"mdi-pencil",text:"Write dexif",onClick:e[1]||(e[1]=t=>n.writeDexif())}),y(C("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>n.loglist=t),style:{width:"100%","min-height":"200px"}},null,512),[[$,n.loglist]])]),_:1})}var B=p(N,[["render",P]]);export{B as default};
