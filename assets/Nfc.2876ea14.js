import{Q as f}from"./QBtn.c7a6e7ca.js";import{u as c,Q as m}from"./use-quasar.4944e6bd.js";import{_ as p,d as g,A as w,B as x,C as v,f as u,M as b,R as y,P as $}from"./index.82929070.js";import"./render.3e5ae0ee.js";const C=g({name:"IndexPage",setup(){c().dark.set(!0);let e=!1,i="";async function l(){(await navigator.permissions.query({name:"nfc"})).state==="granted"&&(e=!0)}const s=new AbortController;s.signal.onabort=a=>{};let o=function(){},n=function(){},d=function(){};if("NDEFReader"in window){const a=new NDEFReader;n=function(){s.abort()},d=async function(){const r={recordType:"url",data:"https://dexif.com/"};await a.write({records:[r]},{signal:s.signal})},o=async function(){await a.scan({signal:s.signal}),a.onreading=r=>{i+=JSON.stringify(r)}}}return{allow:e,scan:o,abort:n,writeDexif:d,requestPermissions:l,loglist:i}},mounted(){this.requestPermissions()}});function N(t,e,i,l,s,o){return w(),x(m,{class:"flex flex-center"},{default:v(()=>[u(f,{disabled:!t.allow,size:"xl",icon:"mdi-nfc-variant",text:"Scan",onClick:e[0]||(e[0]=n=>t.scan())},null,8,["disabled"]),u(f,{disabled:!t.allow,size:"xl",icon:"mdi-pencil",text:"Write dexif",onClick:e[1]||(e[1]=n=>t.writeDexif())},null,8,["disabled"]),b($("textarea",{"onUpdate:modelValue":e[2]||(e[2]=n=>t.loglist=n),style:{width:"100%","min-height":"200px"}},null,512),[[y,t.loglist]])]),_:1})}var D=p(C,[["render",N]]);export{D as default};
